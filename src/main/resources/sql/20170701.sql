DROP TABLE IF EXISTS `warehouse_delivery_record`;

DROP TABLE IF EXISTS `warehouse_order`;
CREATE TABLE warehouse_order(
	id INT AUTO_INCREMENT COMMENT '仓库订单id',
	order_num CHAR(14) NOT NULL COMMENT '订单编号',
    staff_id INT NOT NULL COMMENT '登记者id',
    staff_name VARCHAR(20) NOT NULL COMMENT '登记者名字',
    product_id INT NOT NULL COMMENT '产品id',
    customer_id INT NOT NULL COMMENT '客户id',
    order_date BIGINT NOT NULL COMMENT '订单日期',
    delivery_quantity_total FLOAT(9,2) NOT NULL COMMENT '总量',
    delivery_quantity_need FLOAT(9,2) NOT NULL COMMENT '需配送',
    unit_price FLOAT(9,2) NOT NULL COMMENT '单价',
    total_price FLOAT(20,2) NOT NULL COMMENT '总价',
    order_status VARCHAR(4) NOT NULL COMMENT '订单状态',
    delivery_date BIGINT NOT NULL COMMENT '送达日期',
    warehouse_manager_id INT NOT NULL COMMENT '经理id',
    warehouse_manager_name VARCHAR(20) NOT NULL COMMENT '经理名字',
    PRIMARY KEY(id),
    FOREIGN KEY(staff_id) references staff(staff_id),
    FOREIGN KEY(warehouse_manager_id) references staff(staff_id),
    FOREIGN KEY(product_id) references product(product_id),
    FOREIGN KEY(customer_id) references customer(customer_id)
)ENGINE=InnoDB DEFAULT CHARSET=UTF8 COMMENT '仓库订单';
CREATE TABLE warehouse_delivery_record(
	id INT AUTO_INCREMENT COMMENT '仓库配送记录id',
	delivery_num CHAR(14) NOT NULL COMMENT '配送编号',
    staff_id INT NOT NULL COMMENT '登记者id',
    staff_name VARCHAR(20) NOT NULL COMMENT '登记者名字',
    warehouse_order_id INT NOT NULL COMMENT '订单id',
    delivery_date BIGINT NOT NULL COMMENT '配送日期',
    delivery_quantity FLOAT(9,2) NOT NULL COMMENT '配送量',
    PRIMARY KEY(id),
    FOREIGN KEY(staff_id) references staff(staff_id),
    FOREIGN KEY(warehouse_order_id) references warehouse_order(id)
)ENGINE=InnoDB DEFAULT CHARSET=UTF8 COMMENT '仓库配送记录';

insert into staff
(staff_id,staff_num,staff_name,role_id,staff_state,staff_sex,staff_entry_date,staff_id_num,staff_tel,staff_password)
values
(1,'2017070001','李昕',1,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(2,'2017070002','吴锡龙',2,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(3,'2017070003','詹育壕',2,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(4,'2017070004','李杭樹',3,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(5,'2017070005','高于钦',3,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(6,'2017070006','梁耀友',4,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(7,'2017070007','刘广源',4,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(8,'2017070008','工厂管理员1',3,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(9,'2017070009','工厂管理员2',3,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(10,'2017070010','工厂管理员3',3,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(11,'2017070011','工厂管理员4',3,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(12,'2017070012','工厂管理员5',3,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(13,'2017070013','工厂管理员6',3,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(14,'2017070014','仓库管理员1',4,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(15,'2017070015','仓库管理员2',4,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(16,'2017070016','仓库管理员3',4,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(17,'2017070017','仓库管理员4',4,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(18,'2017070018','仓库管理员5',4,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(19,'2017070019','仓库管理员7',4,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(20,'2017070020','经理1',2,'在职','男',1498838400000,'123456789987654321','18826070000','123456'),
(21,'2017070021','经理2',2,'在职','男',1498838400000,'123456789987654321','18826070000','123456');


insert into material_purchase_record(material_id,staff_id,staff_name,purchase_num,purchase_date,purchase_quantity,unit_price,total_price)
values
(1,3,'詹育壕','GR201707010001',1498838400000,10.00,1.0,10.00),
(1,3,'詹育壕','GR201707010002',1498838400000,10.00,1.0,10.00),
(1,3,'詹育壕','GR201707010003',1498838400000,10.00,1.0,10.00),
(1,3,'詹育壕','GR201707010004',1498838400000,10.00,1.0,10.00),
(1,3,'詹育壕','GR201707010005',1498838400000,10.00,1.0,10.00),
(1,3,'詹育壕','GR201707010006',1498838400000,10.00,1.0,10.00),
(1,3,'詹育壕','GR201707010007',1498838400000,10.00,1.0,10.00),
(1,3,'詹育壕','GR201707010008',1498838400000,10.00,1.0,10.00),
(1,3,'詹育壕','GR201707010009',1498838400000,10.00,1.0,10.00),
(1,3,'詹育壕','GR201707010010',1498838400000,10.00,1.0,10.00),
(2,3,'詹育壕','GR201707010011',1498838400000,10.00,1.0,10.00),
(2,3,'詹育壕','GR201707010012',1498838400000,10.00,1.0,10.00),
(2,3,'詹育壕','GR201707010013',1498838400000,10.00,1.0,10.00),
(2,3,'詹育壕','GR201707010014',1498838400000,10.00,1.0,10.00),
(2,3,'詹育壕','GR201707010015',1498838400000,10.00,1.0,10.00),
(2,3,'詹育壕','GR201707010016',1498838400000,10.00,1.0,10.00),
(2,3,'詹育壕','GR201707010017',1498838400000,10.00,1.0,10.00),
(2,3,'詹育壕','GR201707010018',1498838400000,10.00,1.0,10.00),
(2,3,'詹育壕','GR201707010019',1498838400000,10.00,1.0,10.00),
(2,3,'詹育壕','GR201707010020',1498838400000,10.00,1.0,10.00),
(3,3,'詹育壕','GR201707010021',1498838400000,10.00,1.0,10.00),
(3,3,'詹育壕','GR201707010022',1498838400000,10.00,1.0,10.00),
(3,3,'詹育壕','GR201707010023',1498838400000,10.00,1.0,10.00),
(3,3,'詹育壕','GR201707010024',1498838400000,10.00,1.0,10.00),
(3,3,'詹育壕','GR201707010025',1498838400000,10.00,1.0,10.00),
(3,3,'詹育壕','GR201707010026',1498838400000,10.00,1.0,10.00),
(3,3,'詹育壕','GR201707010027',1498838400000,10.00,1.0,10.00),
(3,3,'詹育壕','GR201707010028',1498838400000,10.00,1.0,10.00),
(3,3,'詹育壕','GR201707010029',1498838400000,10.00,1.0,10.00),
(3,3,'詹育壕','GR201707010030',1498838400000,10.00,1.0,10.00),
(4,3,'詹育壕','GR201707010031',1498838400000,10.00,1.0,10.00),
(4,3,'詹育壕','GR201707010032',1498838400000,10.00,1.0,10.00),
(4,3,'詹育壕','GR201707010033',1498838400000,10.00,1.0,10.00),
(4,3,'詹育壕','GR201707010034',1498838400000,10.00,1.0,10.00),
(4,3,'詹育壕','GR201707010035',1498838400000,10.00,1.0,10.00),
(4,3,'詹育壕','GR201707010036',1498838400000,10.00,1.0,10.00),
(4,3,'詹育壕','GR201707010037',1498838400000,10.00,1.0,10.00),
(4,3,'詹育壕','GR201707010038',1498838400000,10.00,1.0,10.00),
(4,3,'詹育壕','GR201707010039',1498838400000,10.00,1.0,10.00),
(4,3,'詹育壕','GR201707010040',1498838400000,10.00,1.0,10.00),
(5,3,'詹育壕','GR201707010041',1498838400000,10.00,1.0,10.00),
(5,3,'詹育壕','GR201707010042',1498838400000,10.00,1.0,10.00),
(5,3,'詹育壕','GR201707010043',1498838400000,10.00,1.0,10.00),
(5,3,'詹育壕','GR201707010044',1498838400000,10.00,1.0,10.00),
(5,3,'詹育壕','GR201707010045',1498838400000,10.00,1.0,10.00),
(5,3,'詹育壕','GR201707010046',1498838400000,10.00,1.0,10.00),
(5,3,'詹育壕','GR201707010047',1498838400000,10.00,1.0,10.00),
(5,3,'詹育壕','GR201707010048',1498838400000,10.00,1.0,10.00),
(5,3,'詹育壕','GR201707010049',1498838400000,10.00,1.0,10.00),
(5,3,'詹育壕','GR201707010050',1498838400000,10.00,1.0,10.00);

update material set material_inventory=100.0;

insert into customer(customer_id,customer_name,customer_phone,customer_address)
values
(1,'客户1','18826077180','C10'),
(2,'客户2','18826077180','C10'),
(3,'客户3','18826077180','C10'),
(4,'客户4','18826077180','C10');
(20,'客户20','18827099389','C10')

insert into blowon_record
(blowon_num,staff_id,staff_name)
